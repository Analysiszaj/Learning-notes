# vscode C++ è°ƒè¯•ç¯å¢ƒæ­å»º

## 1. å¼€å§‹ï¼ˆç®€å•äº†è§£å³å¯ï¼‰

åœ¨é¡¹ç›®ä¸­ä¸ºä»¬å¯ä»¥çœ‹åˆ°ä»–æœ‰æä¾›äº†ä¸€ä¸ªdebugç‰ˆæœ¬çš„é€‰é¡¹,å¦‚æœæˆ‘ä»¬è¦å¯¹å…¶è¿›è¡Œè°ƒè¯•ï¼Œå°±å¿…é¡»ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬ã€‚

```shell
meson setup --buildtype debug build_debug
meson compile -C build_debug
```



ç”Ÿæˆdebug ç‰ˆæœ¬åå°±å¯ä»¥ç›´æ¥ç”¨GDB è¿›è¡Œè°ƒè¯•äº†ã€‚

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```shell
gdb ./search/build_debug/atsipp.exe
```

![image-20250608131515959](./../../images/c++/image-20250608131515959.png)

è¿›è¡Œä»¥ä¸‹ç•Œé¢å°±è¯´æ˜äº†ä½ å·²ç»è¿›å…¥äº†GDBè°ƒè¯•ç¯å¢ƒäº†ã€‚

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```shell
run --edgegraph ../output --start t-405B --goal t-401A
```

![image-20250608131724260](./../../images/c++/image-20250608131724260.png)

å¯ä»¥çœ‹åˆ°ï¼Œ ç¨‹åºæ‰§è¡Œäº†ï¼Œ æç¤ºæ²¡æœ‰æ‰¾åˆ°åˆ—è½¦ã€‚



ç°åœ¨æˆ‘ä»¬å¯ä»¥ç»™ä»–æ·»åŠ æ–­ç‚¹ï¼š

```shell
break main.cpp:25
```

è¿™ä¸ªçš„æ„æ€æ˜¯åœ¨main.cpp æ–‡ä»¶ä¸‹çš„ç¬¬25è¡Œæ·»åŠ ä¸€ä¸ªæ–­ç‚¹ï¼Œ ç„¶ååœ¨æ‰§è¡Œè¿è¡Œå‘½ä»¤

![image-20250608132054030](./../../images/c++/image-20250608132054030.png)

å¯ä»¥çœ‹åˆ°ä»£ç åœ¨è¿™é‡Œè¢«æš‚åœäº†ã€‚

![image-20250608132314121](./../../images/c++/image-20250608132314121.png)

- `next`: ä¸‹ä¸€å¥
- `print(å˜é‡å)`ï¼š æ‰“å°å˜é‡
- `list`: æŸ¥çœ‹ä»£ç å—

- ...

å‰©ä¸‹çš„ä¸€äº›å‘½ä»¤å¯ä»¥è‡ªè¡Œç½‘ç»œä¸Šäº†è§£ï¼Œè¿™å°±æ˜¯ä½¿ç”¨åŸå§‹GDBè¿›è¡Œè°ƒè¯•çš„æ–¹æ³•ã€‚

ä½¿ç”¨è¿™ç§æ–¹å¼å¯ä»¥çœ‹åˆ°ï¼Œä¸ç›´è§‚ä¹Ÿå¾ˆä¸æ–¹ä¾¿ï¼Œæ‰€å¹¸vscode æä¾›äº†æ›´åŠ ä¾¿æ·çš„è°ƒè¯•æ–¹å¼ï¼ˆæœ¬è´¨ä¸Šç”¨çš„è¿˜æ˜¯GDB,åªä¸è¿‡æä¾›äº†æ›´åŠ ä¾¿æ·çš„æ–¹å¼ï¼‰





## 2. é…ç½®VScode

1.é¦–å…ˆæˆ‘ä»¬è¦åšçš„å°±æ˜¯åœ¨æºä»£ç ä¸­æ‰“æ–­ç‚¹ï¼Œ æ‰“æ–­ç‚¹çš„æ–¹å¼å¦‚å›¾æ‰€ç¤ºï¼š

![image-20250608130348857](./../../images/c++/image-20250608130348857.png)

2. ç„¶åæˆ‘ä»¬éœ€è¦é…ç½®`launch.json` æ–‡ä»¶ï¼Œ åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º`.vscode/launch.json` æ–‡ä»¶.

```json
{
    "version": "0.2.0",
    // é‡ç‚¹æ˜¯è¿™éƒ¨åˆ†
    "configurations": [
        // è¿™é‡Œæ¯ä¸€ä¸ªå¯¹è±¡å¯¹åº”çš„å°±æ˜¯vscodeçš„ä¸€ä¸ªè°ƒè¯•ä»»åŠ¡
        {
            "name": "è°ƒè¯• atsipp (Meson Debug)",
            "type": "cppdbg",
            "request": "launch",
            // ${workspaceFolder} è¡¨ç¤ºå·¥ä½œåŒºï¼Œä»¥.vscode ä¸Šçº§æ–‡ä»¶å¤¹ä¸ºæ ¹ç›®å½•ä¸‹éƒ½æ˜¯å·¥ä½œåŒº
            // è¿™ä¸ªå…³é”®å­—è¡¨ç¤ºè¿™å°±æ˜¯æˆ‘ä»¬è¦è°ƒè¯•çš„ç¨‹åº
            "program": "${workspaceFolder}/search/build_debug/atsipp.exe",
            // è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬ç¨‹åºåé¢æºå¸¦çš„å‚æ•°
            "args": [
                "--edgegraph", "../output",
                "--start", "t-405B",
                "--goal", "t-401A"
            ],
            "stopAtEntry": false,
            // è¿™ä¸ªè¦é‡ç‚¹ç†è§£ä¸€ä¸‹ï¼Œä»–å°±æ˜¯å°±æ˜¯ç›¸å½“äºæˆ‘ä»¬è¿™ä¸ªå‘½ä»¤æ‰§è¡Œçš„ç›®å½•ï¼Œå°±åƒæˆ‘ä»¬å‰é¢çš„cd ../search
			// ç„¶åæ‰§è¡Œå‘½ä»¤ï¼Œæ‰€å¯¹åº”çš„output æ–‡ä»¶ç”Ÿæˆåœ¨æ ¹ç›®å½•ä¸‹æ‰€ä»¥å°±å¾—ä¸Šé¢çš„argéƒ¨åˆ†å°±å¾—å˜æˆ../output 
            "cwd": "${workspaceFolder}/search",
            
            // å‰©ä¸‹è¿™äº›ä¸ºé»˜è®¤é…ç½®ï¼Œå¦‚æœå‘è¯¦ç»†äº†è§£å¯ä»¥å»ç½‘ä¸ŠæŸ¥çœ‹æ•™ç¨‹
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "miDebuggerPath": "gdb.exe", 
            "setupCommands": [
                {
                    "description": "ä¸º gdb å¯ç”¨æ¼‚äº®æ‰“å°",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                }
            ]
        }
    ]
}
```

é…ç½®å®Œæˆä»¥ä¸Šéƒ¨åˆ†ä¹‹åï¼Œ æˆ‘ä»¬å°±å¯ä»¥åœ¨æ–‡ä»¶ä¸‹ç›´æ¥è¿›è¡Œè°ƒè¯•äº†ã€‚åœ¨cppæ–‡ä»¶ä¸‹è¾“å…¥ **F5**

![image-20250608133756806](./../../images/c++/image-20250608133756806.png)

å¯ä»¥çœ‹åˆ°ç¨‹åºå°±åœ¨è¿™é‡Œè¢«åœä½äº†ã€‚

åœ¨è¿™ä¸ªä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å…­ä¸ªæ ‡å¿—

![image-20250608133844647](./../../images/c++/image-20250608133844647.png)

ä»–ä»¬åˆ†åˆ«æ˜¯ï¼š

- æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹
- ä¸‹ä¸€æ­¥
- è¿›å…¥åˆ°æ–¹æ³•
- è·³å‡ºæ–¹æ³•
- é‡æ–°æ‰§è¡Œ
- é€€å‡º

ç°åœ¨å°±å¯ä»¥å¼€å§‹è°ƒè¯•äº†ï¼ğŸ˜ƒğŸ˜ƒğŸ˜ƒğŸ˜ƒ

ä½†æ˜¯ç°åœ¨åˆæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘æ”¹åŠ¨äº†æ–‡ä»¶ï¼Œ æˆ‘å°±å¾—é‡æ–°æ‰§è¡Œä¸€éæœ€å…ˆå¼€å§‹çš„ç¼–è¯‘å‘½ä»¤, æ¯æ¬¡è¿™æ ·å°±å¾ˆéº»çƒ¦ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ›´åŠ æ–¹ä¾¿çš„æ–¹æ³•èƒ½å¤Ÿå¿«é€Ÿçš„è°ƒè¯•å‘¢ã€‚

```
meson setup --buildtype debug build_debug
meson compile -C build_debug
```



## 3. é…ç½®taskä»»åŠ¡

åœ¨`.vscode` æ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»º`task.json` æ–‡ä»¶ï¼š

```json
{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Meson Setup (Debug)",
            "type": "shell",
            "command": "meson setup --buildtype debug build_debug",
             "options": {
                "cwd": "${workspaceFolder}/search"
            },
            "problemMatcher": [],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "Meson Compile (Debug)",
            "type": "shell",
            "command": "meson compile -C build_debug",
            "problemMatcher": [],
            "dependsOn": ["Meson Setup (Debug)"],
             "options": {
                "cwd": "${workspaceFolder}/search"
            },
            "group": {
                "kind": "build",
                "isDefault": false
            }
        }
    ]
}
```

åœ¨`launch.json` æ–‡ä»¶ä¸‹æ–°å¢å­—æ®µï¼š

```json
 "preLaunchTask": "Meson Compile (Debug)"    // è¿™ä¸ªå…¶å®å°±æ˜¯å‘Šè¯‰æ‰§è¡Œè°ƒè¯•å‰å…ˆæ‰§è¡Œç¼–è¯‘ä»»åŠ¡ï¼Œ è¿™ä¸ªåç§°å¯¹åº”çš„å°±æ˜¯ä¸Šé¢çš„taské‡Œé¢çš„label
```

![image-20250608135348347](./../../images/c++/image-20250608135348347.png)

ç„¶åå°±å¯ä»¥ä¿®æ”¹ä»£ç ï¼Œç„¶å**`F5`**, å°±å¯ä»¥çœ‹åˆ°æµ‹è¯•æˆåŠŸäº†ã€‚

![image-20250608135600330](./../../images/c++/image-20250608135600330.png)

ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰